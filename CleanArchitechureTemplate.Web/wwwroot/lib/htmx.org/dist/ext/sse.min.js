/**
 * Minified by jsDelivr using Terser v5.37.0.
 * Original file: /npm/htmx.org@2.0.4/dist/ext/sse.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
!function(){var t;function e(t){return new EventSource(t,{withCredentials:!0})}function n(t){return t.trim().split(/\s+/)}function r(e){i(e,"sse-swap").forEach((function(r){var s=t.getClosestMatch(r,c);if(null==s)return null;var o=t.getInternalData(s).sseEventSource,i=t.getAttributeValue(r,"sse-swap");if(i)var l=i.split(",");else l=function(e){var r=t.getAttributeValue(e,"hx-sse"),s=[];if(null!=r)for(var o=n(r),a=0;a<o.length;a++){var i=o[a].split(/:(.+)/);"swap"===i[0]&&s.push(i[1])}return s}(r);for(var f=0;f<l.length;f++){var h=l[f].trim(),v=function(n){a(s)||(t.bodyContains(r)?t.triggerEvent(e,"htmx:sseBeforeMessage",n)&&(u(r,n.data),t.triggerEvent(e,"htmx:sseMessage",n)):o.removeEventListener(h,v))};t.getInternalData(r).sseEventListener=v,o.addEventListener(h,v)}})),i(e,"hx-trigger").forEach((function(e){var n=t.getClosestMatch(e,c);if(null==n)return null;t.getInternalData(n).sseEventSource;var r=t.getAttributeValue(e,"hx-trigger");if(null!=r&&"sse:"==r.slice(0,4)){r=r.substr(4)}}))}function s(e,s){if(null==e)return null;i(e,"sse-connect").forEach((function(e){var n=t.getAttributeValue(e,"sse-connect");null!=n&&o(e,n,s)})),i(e,"hx-sse").forEach((function(e){var r=function(e){var r=t.getAttributeValue(e,"hx-sse");if(r)for(var s=n(r),o=0;o<s.length;o++){var a=s[o].split(/:(.+)/);if("connect"===a[0])return a[1]}}(e);null!=r&&o(e,r,s)})),r(e)}function o(e,n,r){var o=htmx.createEventSource(n);o.onerror=function(n){if(t.triggerErrorEvent(e,"htmx:sseError",{error:n,source:o}),!a(e)&&o.readyState===EventSource.CLOSED){r=r||0;var i=Math.random()*(2^r)*500;window.setTimeout((function(){s(e,Math.min(7,r+1))}),i)}},o.onopen=function(n){t.triggerEvent(e,"htmx:sseOpen",{source:o})},t.getInternalData(e).sseEventSource=o}function a(e){if(!t.bodyContains(e)){var n=t.getInternalData(e).sseEventSource;if(null!=n)return n.close(),!0}return!1}function i(e,n){var r=[];return t.hasAttribute(e,n)&&r.push(e),e.querySelectorAll("["+n+"], [data-"+n+"]").forEach((function(t){r.push(t)})),r}function u(e,n){t.withExtensions(e,(function(t){n=t.transformResponse(n,null,e)}));var r=t.getSwapSpecification(e),s=t.getTarget(e),o=t.makeSettleInfo(e);t.selectAndSwap(r.swapStyle,s,e,n,o),o.elts.forEach((function(e){e.classList&&e.classList.add(htmx.config.settlingClass),t.triggerEvent(e,"htmx:beforeSettle")})),r.settleDelay>0?setTimeout(l(o),r.settleDelay):l(o)()}function l(e){return function(){e.tasks.forEach((function(t){t.call()})),e.elts.forEach((function(e){e.classList&&e.classList.remove(htmx.config.settlingClass),t.triggerEvent(e,"htmx:afterSettle")}))}}function c(e){return null!=t.getInternalData(e).sseEventSource}htmx.version&&!htmx.version.startsWith("1.")&&console.warn("WARNING: You are using an htmx 1 extension with htmx "+htmx.version+".  It is recommended that you move to the version of this extension found on https://htmx.org/extensions"),htmx.defineExtension("sse",{init:function(n){t=n,null==htmx.createEventSource&&(htmx.createEventSource=e)},onEvent:function(e,n){var r=n.target||n.detail.elt;switch(e){case"htmx:beforeCleanupElement":var o=t.getInternalData(r);return void(o.sseEventSource&&o.sseEventSource.close());case"htmx:afterProcessNode":s(r)}}})}();
//# sourceMappingURL=/sm/94582adad75dd0fc32f2edb47f58396b9b8ac0361e19bb6ca441683e63fd5edc.map