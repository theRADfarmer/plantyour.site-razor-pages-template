/**
 * Minified by jsDelivr using Terser v5.37.0.
 * Original file: /npm/alpinejs@3.14.9/src/utils/on.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{debounce}from"./debounce";import{throttle}from"./throttle";export default function on(e,t,i,n){let s=e,r=e=>n(e),c={},o=(e,t)=>i=>t(e,i);if(i.includes("dot")&&(t=dotSyntax(t)),i.includes("camel")&&(t=camelCase(t)),i.includes("passive")&&(c.passive=!0),i.includes("capture")&&(c.capture=!0),i.includes("window")&&(s=window),i.includes("document")&&(s=document),i.includes("debounce")){let e=i[i.indexOf("debounce")+1]||"invalid-wait",t=isNumeric(e.split("ms")[0])?Number(e.split("ms")[0]):250;r=debounce(r,t)}if(i.includes("throttle")){let e=i[i.indexOf("throttle")+1]||"invalid-wait",t=isNumeric(e.split("ms")[0])?Number(e.split("ms")[0]):250;r=throttle(r,t)}return i.includes("prevent")&&(r=o(r,((e,t)=>{t.preventDefault(),e(t)}))),i.includes("stop")&&(r=o(r,((e,t)=>{t.stopPropagation(),e(t)}))),i.includes("once")&&(r=o(r,((e,i)=>{e(i),s.removeEventListener(t,r,c)}))),(i.includes("away")||i.includes("outside"))&&(s=document,r=o(r,((t,i)=>{e.contains(i.target)||!1!==i.target.isConnected&&(e.offsetWidth<1&&e.offsetHeight<1||!1!==e._x_isShown&&t(i))}))),i.includes("self")&&(r=o(r,((t,i)=>{i.target===e&&t(i)}))),(isKeyEvent(t)||isClickEvent(t))&&(r=o(r,((e,t)=>{isListeningForASpecificKeyThatHasntBeenPressed(t,i)||e(t)}))),s.addEventListener(t,r,c),()=>{s.removeEventListener(t,r,c)}}function dotSyntax(e){return e.replace(/-/g,".")}function camelCase(e){return e.toLowerCase().replace(/-(\w)/g,((e,t)=>t.toUpperCase()))}function isNumeric(e){return!Array.isArray(e)&&!isNaN(e)}function kebabCase(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function isKeyEvent(e){return["keydown","keyup"].includes(e)}function isClickEvent(e){return["contextmenu","click","mouse"].some((t=>e.includes(t)))}function isListeningForASpecificKeyThatHasntBeenPressed(e,t){let i=t.filter((e=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(e)));if(i.includes("debounce")){let e=i.indexOf("debounce");i.splice(e,isNumeric((i[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(i.includes("throttle")){let e=i.indexOf("throttle");i.splice(e,isNumeric((i[e+1]||"invalid-wait").split("ms")[0])?2:1)}if(0===i.length)return!1;if(1===i.length&&keyToModifiers(e.key).includes(i[0]))return!1;const n=["ctrl","shift","alt","meta","cmd","super"].filter((e=>i.includes(e)));if(i=i.filter((e=>!n.includes(e))),n.length>0){if(n.filter((t=>("cmd"!==t&&"super"!==t||(t="meta"),e[`${t}Key`]))).length===n.length){if(isClickEvent(e.type))return!1;if(keyToModifiers(e.key).includes(i[0]))return!1}}return!0}function keyToModifiers(e){if(!e)return[];e=kebabCase(e);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return t[e]=e,Object.keys(t).map((i=>{if(t[i]===e)return i})).filter((e=>e))}
//# sourceMappingURL=/sm/63ec8288aeb5231d6ea699f55b4ab9b1d1bf775447539dd75ac8dbc2efd43fab.map