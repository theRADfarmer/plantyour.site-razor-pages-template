/**
 * Minified by jsDelivr using Terser v5.37.0.
 * Original file: /npm/alpinejs@3.14.9/src/lifecycle.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{startObservingMutations,onAttributesAdded,onElAdded,onElRemoved,cleanupAttributes,cleanupElement}from"./mutation";import{deferHandlingDirectives,directiveExists,directives}from"./directives";import{dispatch}from"./utils/dispatch";import{walk}from"./utils/walk";import{warn}from"./utils/warn";let started=!1;export function start(){started&&warn("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),started=!0,document.body||warn("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),dispatch(document,"alpine:init"),dispatch(document,"alpine:initializing"),startObservingMutations(),onElAdded((e=>initTree(e,walk))),onElRemoved((e=>destroyTree(e))),onAttributesAdded(((e,t)=>{directives(e,t).forEach((e=>e()))}));Array.from(document.querySelectorAll(allSelectors().join(","))).filter((e=>!closestRoot(e.parentElement,!0))).forEach((e=>{initTree(e)})),dispatch(document,"alpine:initialized"),setTimeout((()=>{warnAboutMissingPlugins()}))}let rootSelectorCallbacks=[],initSelectorCallbacks=[];export function rootSelectors(){return rootSelectorCallbacks.map((e=>e()))}export function allSelectors(){return rootSelectorCallbacks.concat(initSelectorCallbacks).map((e=>e()))}export function addRootSelector(e){rootSelectorCallbacks.push(e)}export function addInitSelector(e){initSelectorCallbacks.push(e)}export function closestRoot(e,t=!1){return findClosest(e,(e=>{if((t?allSelectors():rootSelectors()).some((t=>e.matches(t))))return!0}))}export function findClosest(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),e.parentElement)return findClosest(e.parentElement,t)}}export function isRoot(e){return rootSelectors().some((t=>e.matches(t)))}let initInterceptors=[];export function interceptInit(e){initInterceptors.push(e)}let markerDispenser=1;export function initTree(e,t=walk,r=()=>{}){findClosest(e,(e=>e._x_ignore))||deferHandlingDirectives((()=>{t(e,((e,t)=>{e._x_marker||(r(e,t),initInterceptors.forEach((r=>r(e,t))),directives(e,e.attributes).forEach((e=>e())),e._x_ignore||(e._x_marker=markerDispenser++),e._x_ignore&&t())}))}))}export function destroyTree(e,t=walk){t(e,(e=>{cleanupElement(e),cleanupAttributes(e),delete e._x_marker}))}function warnAboutMissingPlugins(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach((([e,t,r])=>{directiveExists(t)||r.some((t=>{if(document.querySelector(t))return warn(`found "${t}", but missing ${e} plugin`),!0}))}))}
//# sourceMappingURL=/sm/c0ecf357dcd73a96f8244f52b32cb7c206e1d2cfc1332e5b1d9c373da170f216.map